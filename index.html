<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title> a cho cho, cho cho, a cho cho ðŸ’–</title>
<style>
body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: linear-gradient(to bottom, #ffe6f2, #ffd6e8);
  font-family: 'Comic Sans MS', cursive, sans-serif;
  text-align: center;
}

h1 {
  color: #ff2f92;
  margin-top: 40px;
  font-size: 42px;
}

#buttons {
  margin-top: 50px;
  position: relative;
  height: 120px;
}

button {
  padding: 16px 34px;
  font-size: 20px;
  border-radius: 14px;
  border: none;
  cursor: pointer;
  margin: 20px;
  transition: all 0.3s ease;
  background-color: #ff66b2;
  color: white;
}

button:hover { transform: scale(1.1); }

#teddy {
  display: none;
  margin: 30px auto;
  width: 260px;
  position: relative;
}

#wave-heart {
  position: absolute;
  width: 50px;
  height: 50px;
  background: url('https://i.imgur.com/Ok8Y3E5.png') no-repeat center/contain;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  opacity: 0;
}

#message {
  display: none;
  max-width: 700px;
  margin: 30px auto;
  font-size: 28px;        /* bigger font */
  font-weight: bold;      /* bold text */
  color: #b3005e;
  line-height: 1.6;
  white-space: pre-line;
}

.heart {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: #ff2f92;
  transform: rotate(-45deg);
  animation: float 6s linear infinite;
}

.heart::before,
.heart::after {
  content: "";
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: #ff2f92;
  border-radius: 50%;
}

.heart::before { top: -10px; left: 0; }
.heart::after { left: 10px; top: 0; }

@keyframes float {
  0% { transform: translateY(0) rotate(-45deg); opacity: 1; }
  100% { transform: translateY(-1200px) rotate(-45deg); opacity: 0; }
}

.confetti {
  position: absolute;
  width: 10px;
  height: 10px;
  top: 0;
  animation: fall 3s linear forwards;
  border-radius: 50%;
}

@keyframes fall {
  0% { transform: translateY(0) rotate(0deg); opacity: 1; }
  100% { transform: translateY(1000px) rotate(360deg); opacity: 0; }
}

@keyframes wave {
  0% { top: 0; opacity: 0; transform: translateX(-50%) scale(0); }
  50% { top: -150px; opacity: 1; transform: translateX(-50%) scale(1.2); }
  100% { top: -200px; opacity: 0; transform: translateX(-50%) scale(0); }
}
</style>
</head>
<body>

<h1>Will you be my Valentine? ðŸ’–</h1>

<div id="buttons">
  <button id="yesBtn">Yes</button>
  <button id="noBtn">No</button>
</div>

<!-- Teddy GIF -->
<img id="teddy" src="https://media.tenor.com/Zyy0GHeC7d0AAAAd/shakespaw.gif" alt="Cute Teddy">

<!-- Heart flying animation -->
<div id="wave-heart"></div>

<!-- Message -->
<div id="message"></div>

<!-- Background music -->
<audio id="bgMusic" loop>
  <source src="carry_you_home.mp3" type="audio/mpeg">
</audio>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const teddy = document.getElementById("teddy");
const waveHeart = document.getElementById("wave-heart");
const message = document.getElementById("message");
const bgMusic = document.getElementById("bgMusic");

// Start music on first click anywhere
document.body.addEventListener('click', () => {
  bgMusic.play().catch(() => {});
}, { once: true });

// Floating hearts
function createHeart() {
  const heart = document.createElement("div");
  heart.className = "heart";
  heart.style.left = Math.random() * window.innerWidth + "px";
  heart.style.animationDuration = 4 + Math.random() * 3 + "s";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 6000);
}
setInterval(createHeart, 300);

// No button escape magic
noBtn.addEventListener("mouseover", () => {
  const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
  const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
  noBtn.style.position = "absolute";
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
});

// Typing effect
const loveMessage = `ðŸ’Œ 
You are my safe place in the world, my peace in chaos and my warmth on cold nights.

You are the shadow in the harsh sun and the beat to my heart â€” the pulse in my soul.

You are my love, and I am endlessly grateful to God for giving you to me,
the most precious gift of my life. ðŸ’–`;

function typeMessage(text, element, index=0) {
  if(index < text.length){
    element.innerHTML += text[index] === '\n' ? '<br>' : text[index];
    setTimeout(() => typeMessage(text, element, index+1), 50);
  }
}

// Confetti
function createConfetti() {
  for(let i=0;i<50;i++){
    const confetti = document.createElement("div");
    confetti.className = "confetti";
    confetti.style.backgroundColor = `hsl(${Math.random()*360}, 100%, 60%)`;
    confetti.style.left = Math.random()*window.innerWidth + "px";
    document.body.appendChild(confetti);
    setTimeout(() => confetti.remove(), 3000);
  }
}

// Track if message already typed
let messageTyped = false;

// Yes button click
yesBtn.addEventListener("click", () => {
  bgMusic.play(); // music starts
  teddy.style.display = "block";
  waveHeart.style.opacity = 1;
  waveHeart.style.animation = "wave 1s ease forwards";
  setTimeout(() => { waveHeart.style.opacity = 0; }, 1200);
  createConfetti();
  message.style.display = "block";
  
  if (!messageTyped) {
    typeMessage(loveMessage, message);
    messageTyped = true;
  }
});
</script>
</body>
</html>
